var GameBundle;(()=>{"use strict";var t={473:function(t,e,i){var r=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.stringToPiece=e.Board=void 0;var o=i(343),a=n(i(597)),I=function(){function t(t){this.fen=t,this.rows=0,this.columns=0,this.boardSetup=[],this.movesList=[[[-1,-1],[-1,-1],new o.Piece,new o.Piece]],this.whiteKingPosition=[-1,-1],this.blackKingPosition=[-1,-1],this.mustLevelUpCoordinates=[-1,-1],this.halfMoveCounter=0,this.convertFen()}return t.prototype.getBoardSetup=function(){return this.boardSetup},t.prototype.getFen=function(){return this.fen},t.prototype.convertFen=function(){var t=this;this.fen.split("/").forEach((function(e,i){if(0===i){var r=e.split(" ");t.rows=Number(r[0]),t.columns=Number(r[1]),t.boardSetup=[];for(var s=0;s<t.rows;s++){t.boardSetup[s]=[];for(var n=0;n<t.columns;n++)t.boardSetup[s][n]=new o.Piece}}else{var I=0,E=0;for(s=0;s<e.length;s++){var u=a.default.stringToPiece(e[s]),A=u[0],L=u[1];if(A!==a.Type.EMPTY){I+=E,E=0;var p=!0,_=[],l=0,c=0;if("["===e[s+1])for(s+=2;"]"!==e[s];)if("X"!==e[s])if("a"!==e[s])if("x"!==e[s])if("l"!==e[s]);else{for(var h="";e[s+1]>="0"&&e[s+1]<="9";)h+=e[s+1],s++;c=parseInt(h),s++}else{for(var T="";e[s+1]>="0"&&e[s+1]<="9";)T+=e[s+1],s++;l=parseInt(T),s++}else{for(;e[s+1]>="0"&&e[s+1]<="9";){var P=parseInt(e[s+1]+e[s+2]+e[s+3]);_.push([P,0]),s+=3}s++}else p=!1,s++;t.boardSetup[i-1][I]=new o.Piece(L,A,[i-1,I],p,_,l,c),I++}else E=10*E+Number(e[s])}}}))},t.prototype.updateFen=function(){var t=this,e="";this.fen.split("/").forEach((function(i,r){if(r-1!=t.getLastMove()[0][0]&&r-1!=t.getLastMove()[1][0])e+=i+"/";else{for(var s=0,n=t.boardSetup[r-1];s<n.length;s++){var o=n[s];if(o.getType()!=a.Type.EMPTY){if(e+=o.getSide()===a.Side.WHITE?o.getType().toUpperCase():o.getType(),o.getAbilities().length>0){e+="[";for(var I=0,E=o.getAbilities();I<E.length;I++){var u=E[I];e+=u.toString()}e+="]"}}else if(isNaN(Number(e.slice(-1))))e+="1";else{var A=(Number(e.slice(-1))+1).toString();e=e.slice(0,-1)+A}}e+="/"}})),this.fen=e.slice(0,-1)},t.prototype.movePiece=function(t,e){var i=t[0],r=t[1],s=e[0],n=e[1];if(a.default.isEmpty(this.boardSetup[i][r]))return!1;var I=this.validMoves([i,r]),E=a.default.coordinateInList([s,n],I);if(-1===E)return!1;this.getLastMove()[0].toString()!==[-1,-1].toString()&&this.boardSetup[this.getLastMove()[0][0]][this.getLastMove()[0][1]].unhighlight(),this.getLastMove()[1].toString()!==[-1,-1].toString()&&this.boardSetup[this.getLastMove()[1][0]][this.getLastMove()[1][1]].unhighlight(),this.movesList.push([[i,r],[s,n],this.boardSetup[i][r],this.boardSetup[s][n]]);var u=this.boardSetup[s][n].getTotalXP();this.boardSetup[s][n]=this.boardSetup[i][r],this.mustLevelUpCoordinates=this.boardSetup[s][n].addXP(u)?[s,n]:[-1,-1],i===s&&r===n||(this.boardSetup[i][r]=new o.Piece),this.boardSetup[s][n].getType()===a.Type.KING&&(this.boardSetup[s][n].getSide()===a.Side.WHITE?this.whiteKingPosition=[s,n]:this.blackKingPosition=[s,n]);var A=I[E][2];return A===a.Ability.NONE?this.boardSetup[s][n].incrementMoveCounter():this.boardSetup[s][n].incrementMoveCounter(A),this.boardSetup[i][r].highlight(),this.boardSetup[s][n].highlight(),this.halfMoveCounter++,!0},t.prototype.validMoves=function(t){var e=t[0],i=t[1],r=[],s=this.boardSetup[e][i],n=s.getSide(),o=s.getAbilitiesNames(),a=s.getAttacks();if(this.checkPassiveAbilities([e,i]))return[];for(var I=0,E=o;I<E.length;I++){var u=E[I];r.push.apply(r,this.checkAbility([e,i],n,u))}for(var A=0,L=a;A<L.length;A++){var p=L[A];r.push.apply(r,this.checkAttacks([e,i],n,p))}return r},t.prototype.checkPassiveAbilities=function(t){var e=t[0],i=t[1];return!(!a.default.isQueen(this.boardSetup[e][i])||!this.getLastMove()[2].hasAbility(a.Ability.SMOLDERING))},t.prototype.checkAbility=function(t,e,i){var r=t[0],s=t[1],n=[];switch(i){case a.Ability.SCOUT:var o=e===a.Side.WHITE?-1:1;return r>1&&r<this.rows-2&&a.default.isEmpty(this.boardSetup[r+o][s])&&a.default.isEmpty(this.boardSetup[r+2*o][s])&&n.push([r+2*o,s,i]),n;case a.Ability.QUANTUM_TUNNELING:return o=e===a.Side.WHITE?-1:1,r>1&&r<this.rows-2&&a.default.isPawn(this.boardSetup[r+o][s])&&a.default.oppositeSide(this.boardSetup[r+o][s],e)&&a.default.isEmpty(this.boardSetup[r+2*o][s])&&n.push([r+2*o,s,i]),n;case a.Ability.COLOR_COMPLEX:for(var I=0,E=[-1,1];I<E.length;I++){var u=E[I];s>0&&s<this.columns-1&&a.default.isEmpty(this.boardSetup[r][s+u])&&n.push([r,s+u,i])}return n;case a.Ability.ARCHBISHOP||a.Ability.CHANCELLOR||a.Ability.ON_HORSE:return this.checkAttacks([r,s],e,[a.Direction.L,1],i);case a.Ability.CAMEL||a.Ability.ON_CAMEL:return this.checkAttacks([r,s],e,[a.Direction.CAMEL,1],i);case a.Ability.HAS_PAWN:return this.checkAttacks([r,s],e,[a.Direction.PAWN,1],i);case a.Ability.SKIP:return[[r,s,i]]}return n},t.prototype.checkAttacks=function(t,e,i,r){var s=t[0],n=t[1],o=i[0],I=i[1];void 0===r&&(r=a.Ability.NONE);var E=[],u=[];switch(o){case a.Direction.LINE:u=[[1,0],[-1,0],[0,1],[0,-1]];break;case a.Direction.DIAGONAL:u=[[1,1],[-1,1],[1,-1],[-1,-1]];break;case a.Direction.L:u=[[-2,-1],[-2,1],[-1,2],[1,2],[2,1],[2,-1],[1,-2],[-1,-2]];break;case a.Direction.PAWN:return this.checkPawn([s,n],e,I);case a.Direction.CAMEL:u=[[-3,-1],[-3,1],[-1,3],[1,3],[3,1],[3,-1],[1,-3],[-1,-3]]}for(var A=0,L=u;A<L.length;A++)for(var p=L[A],_=p[0],l=p[1],c=1;s+c*_>=0&&s+c*_<this.rows&&n+c*l>=0&&n+c*l<this.columns&&c<=I&&!a.default.sameSide(this.boardSetup[s+c*_][n+c*l],e)&&(E.push([s+c*_,n+c*l,r]),!a.default.oppositeSide(this.boardSetup[s+c*_][n+c*l],e));c++);return E},t.prototype.checkPawn=function(t,e,i){var r=t[0],s=t[1],n=[],o=e===a.Side.WHITE?-1:1;if(e===a.Side.WHITE&&0===r||e===a.Side.BLACK&&r===this.rows-1)return[];for(var I=1;r+I*o>=0&&r+I*o<this.rows&&I<=i&&!a.default.isNotEmpty(this.boardSetup[r+o][s]);I++)n.push([r+o,s,a.Ability.NONE]);for(var E=0,u=[-1,1];E<u.length;E++){var A=u[E];s+A>=0&&s+A<this.columns&&a.default.oppositeSide(this.boardSetup[r+o][s+A],e)&&n.push([r+o,s+A,a.Ability.NONE])}return n},t.prototype.getLastMove=function(){return this.movesList[this.movesList.length-1]},t.prototype.printBoard=function(){for(var t=0,e=this.boardSetup;t<e.length;t++){for(var i="",r=0,s=e[t];r<s.length;r++){var n=s[r];i+=n.getSide()===a.Side.WHITE?n.getType().toString().toUpperCase()+" ":n.getType().toString()+" "}console.log(i)}},t.prototype.printValidSquares=function(t){for(var e=t[0],i=t[1],r="",s=this.validMoves([e,i]),n=0;n<this.rows;n++){for(var o="",I=0;I<this.columns;I++)[n,I].toString()==[e,i].toString()?o+="@ ":o+=-1!==a.default.coordinateInList([n,I],s)?"x ":". ";r+=o+"\n"}console.log(r)},t.prototype.getLevelUpCoordinates=function(){return this.mustLevelUpCoordinates},t.prototype.mustLevelUp=function(){return-1!==this.mustLevelUpCoordinates[0]&&-1!==this.mustLevelUpCoordinates[1]},t.prototype.levelUpDone=function(){this.mustLevelUpCoordinates=[-1,-1]},t}();e.Board=I,e.stringToPiece=function(t){for(var e in a.Type)if(a.Type[e]===t)return a.Type[e];return a.Type.EMPTY}},306:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameState=void 0;var r=i(473),s=i(597),n=function(){function t(t,e,i,n,o){void 0===o&&(o=!1),this.board=new r.Board(t),this.currentTurn=e,this.timeWhite=i,this.timeBlack=n,this.gameResult=s.GameResult.IN_PROGRESS}return t.prototype.movePiece=function(t,e){return this.gameResult===s.GameResult.IN_PROGRESS&&!this.board.mustLevelUp()&&!!this.board.movePiece(t,e)&&(this.changeTurn(),this.checkmate()&&(this.gameResult=0===this.currentTurn?s.GameResult.BLACK_WIN:s.GameResult.WHITE_WIN),!0)},t.prototype.levelUp=function(t){var e=this.board.getLevelUpCoordinates(),i=e[0],r=e[1],n=this.board.getBoardSetup()[i][r],o=s.Ability[t];return-1!==i&&-1!==r&&!(o!==s.Ability.NONE&&!n.addAbility(o)||(n.increaseLevel(),this.board.levelUpDone(),0))},t.prototype.getBoard=function(){return this.board},t.prototype.getTurn=function(){return this.currentTurn},t.prototype.changeTurn=function(){this.currentTurn=1-this.currentTurn},t.prototype.checkmate=function(){return!1},t}();e.GameState=n},343:function(t,e,i){var r=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.isKing=e.isPawn=e.isKnight=e.isQueenOrBishop=e.isQueenOrRook=e.sameSide=e.sameSidePiece=e.oppositeSide=e.oppositePiece=e.Piece=void 0;var o=n(i(597)),a=function(){function t(t,e,i,r,s,n,a,I){switch(void 0===t&&(t=o.Side.NONE),void 0===e&&(e=o.Type.EMPTY),void 0===i&&(i=[-1,-1]),void 0===r&&(r=!1),void 0===s&&(s=[]),void 0===n&&(n=0),void 0===a&&(a=0),void 0===I&&(I=[]),this.side=t,this.type=e,this.initialSquare=i,this.canLevelUp=r,this.XP=n,this.level=a,this.type){case o.Type.PAWN:this.attacks=[[o.Direction.PAWN,1]],this.levelUpXP=o.default.PAWN_LEVELUP_XP,this.captureMultiplier=o.default.PAWN_CAPTURE_MULTIPLIER,this.abilityCapacity=o.default.PAWN_DEFAULT_ABILITY_CAPACITY,this.maxLevel=o.default.PAWN_MAX_LEVEL,this.possibleAbilities=o.default.PAWN_ABILITIES;break;case o.Type.BISHOP:this.attacks=[[o.Direction.DIAGONAL,o.default.INFINITE_RANGE]],this.levelUpXP=o.default.BISHOP_LEVELUP_XP,this.captureMultiplier=o.default.BISHOP_CAPTURE_MULTIPLIER,this.abilityCapacity=o.default.BISHOP_DEFAULT_ABILITY_CAPACITY,this.maxLevel=o.default.BISHOP_MAX_LEVEL,this.possibleAbilities=o.default.BISHOP_ABILITIES;break;case o.Type.KNIGHT:this.attacks=[[o.Direction.L,1]],this.levelUpXP=o.default.KNIGHT_LEVELUP_XP,this.captureMultiplier=o.default.KNIGHT_CAPTURE_MULTIPLIER,this.abilityCapacity=o.default.KNIGHT_DEFAULT_ABILITY_CAPACITY,this.maxLevel=o.default.KNIGHT_MAX_LEVEL,this.possibleAbilities=o.default.KNIGHT_ABILITIES;break;case o.Type.ROOK:this.attacks=[[o.Direction.LINE,o.default.INFINITE_RANGE]],this.levelUpXP=o.default.ROOK_LEVELUP_XP,this.captureMultiplier=o.default.ROOK_CAPTURE_MULTIPLIER,this.abilityCapacity=o.default.ROOK_DEFAULT_ABILITY_CAPACITY,this.maxLevel=o.default.ROOK_MAX_LEVEL,this.possibleAbilities=o.default.ROOK_ABILITIES;break;case o.Type.QUEEN:this.attacks=[[o.Direction.LINE,o.default.INFINITE_RANGE],[o.Direction.DIAGONAL,o.default.INFINITE_RANGE]],this.levelUpXP=o.default.QUEEN_LEVELUP_XP,this.captureMultiplier=o.default.QUEEN_CAPTURE_MULTIPLIER,this.abilityCapacity=o.default.QUEEN_DEFAULT_ABILITY_CAPACITY,this.maxLevel=o.default.QUEEN_MAX_LEVEL,this.possibleAbilities=o.default.QUEEN_ABILITIES;break;case o.Type.KING:this.attacks=[[o.Direction.LINE,1],[o.Direction.DIAGONAL,1],[o.Direction.CASTLING,1]],this.levelUpXP=o.default.KING_LEVELUP_XP,this.captureMultiplier=o.default.KING_CAPTURE_MULTIPLIER,this.abilityCapacity=o.default.KING_DEFAULT_ABILITY_CAPACITY,this.maxLevel=o.default.KING_MAX_LEVEL,this.possibleAbilities=o.default.KING_ABILITIES;break;default:this.attacks=[],this.levelUpXP=[],this.captureMultiplier=0,this.abilityCapacity=0,this.maxLevel=0,this.possibleAbilities=[]}this.abilities=[],this.setAbilities(s),this.totalXP=0;for(var E=0;E<this.level;E++)this.totalXP+=this.levelUpXP[E];this.totalXP+=this.XP,this.moveCounter=0,this.isMaxLevel=a>=this.maxLevel,this.highlighted=!1}return t.prototype.setSide=function(t){this.side=t},t.prototype.getSide=function(){return this.side},t.prototype.setType=function(t){this.type=t},t.prototype.getType=function(){return this.type},t.prototype.getInitialSquare=function(){return this.initialSquare},t.prototype.setAttacks=function(t){this.attacks=t},t.prototype.getAttacks=function(){return this.attacks},t.prototype.addAttack=function(t){return-1===this.attacks.indexOf(t)&&(this.attacks.push(t),!0)},t.prototype.removeAttack=function(t){var e=this.getAttackDirections().indexOf(t);return-1!==e&&(this.attacks.splice(e,1),!0)},t.prototype.getAttackDirections=function(){return this.attacks.map((function(t){var e=t[0];return t[1],e}))},t.prototype.getAttackRanges=function(){return this.attacks.map((function(t){return t[0],t[1]}))},t.prototype.rangeOf=function(t){var e=this.getAttackDirections().indexOf(t);return-1===e?0:this.getAttackRanges()[e]},t.prototype.hasAttack=function(t){return-1!==this.getAttackDirections().indexOf(t)},t.prototype.updateAttackRange=function(t,e){var i=this.getAttackDirections().indexOf(t);return-1!==i&&(this.attacks[i][1]=e,!0)},t.prototype.getCanLevelUp=function(){return this.canLevelUp},t.prototype.enableLevelUp=function(){this.canLevelUp=!0},t.prototype.disableLevelUp=function(){this.canLevelUp=!1},t.prototype.setCaptureMultiplier=function(t){this.captureMultiplier=t},t.prototype.getCaptureMultiplier=function(){return this.captureMultiplier},t.prototype.setAbilityCapacity=function(t){this.abilityCapacity=t},t.prototype.getAbilityCapacity=function(){return this.abilityCapacity},t.prototype.increaseAbilityCapacity=function(t){void 0===t&&(t=1),this.abilityCapacity+=t},t.prototype.decrementAbilityCapacity=function(){return!(this.abilityCapacity<=this.abilities.length||(this.abilityCapacity--,0))},t.prototype.setAbilities=function(t){for(var e=0,i=t;e<i.length;e++){var r=i[e],s=r[0],n=r[1];this.addAbility(s,n)}},t.prototype.getAbilities=function(){return this.abilities},t.prototype.hasAbility=function(t){return-1!==this.getAbilitiesNames().indexOf(t)},t.prototype.getAbilitiesNames=function(){return this.abilities.map((function(t){var e=t[0];return t[1],e}))},t.prototype.getAbilitiesTimesUsed=function(){return this.abilities.map((function(t){return t[0],t[1]}))},t.prototype.setTimesUsed=function(t,e){var i=this.getAbilitiesNames().indexOf(t);return-1!==i&&(this.abilities[i][1]=e,!0)},t.prototype.timesUsed=function(t){var e=this.getAbilitiesNames().indexOf(t);return-1===e?-1:this.abilities[e][1]},t.prototype.increaseTimesUsed=function(t){var e=this.getAbilitiesNames().indexOf(t);return-1!==e&&(this.abilities[e][1]++,(-1!==o.default.PASSIVE_ABILITIES.indexOf(t)&&this.timesUsed(t)>=o.default.PASSIVE_ABILITY_MAX_TIMES_USED||-1!==o.default.DISABILITIES.indexOf(t)&&this.timesUsed(t)>=o.default.DISABILITY_MAX_TIMES_USED)&&this.removeAbility(t),!0)},t.prototype.addAbility=function(t,e){return void 0===e&&(e=0),this.abilities.length!==this.abilityCapacity&&(-1===this.getAbilitiesNames().indexOf(t)&&-1!==this.possibleAbilities.indexOf(t)&&(t===o.Ability.SWEEPER&&(this.addAttack([o.Direction.L,1]),this.updateAttackRange(o.Direction.LINE,2),this.updateAttackRange(o.Direction.DIAGONAL,2)),this.abilities.push([t,e]),this.possibleAbilities.splice(this.possibleAbilities.indexOf(t),1),!0))},t.prototype.removeAbility=function(t){var e=this.getAbilitiesNames().indexOf(t);return-1!==e&&(t===o.Ability.SWEEPER&&(this.removeAttack(o.Direction.L),this.updateAttackRange(o.Direction.LINE,o.default.INFINITE_RANGE),this.updateAttackRange(o.Direction.DIAGONAL,o.default.INFINITE_RANGE)),this.abilities.splice(e,1),this.possibleAbilities.push(t),!0)},t.prototype.getPossibleAbilities=function(){return this.possibleAbilities},t.prototype.setXP=function(t){this.XP=t},t.prototype.getXP=function(){return this.XP},t.prototype.addXP=function(t){return this.XP+=o.default.PER_MOVE_XP+Math.floor(this.captureMultiplier*t),this.totalXP+=o.default.PER_MOVE_XP+Math.floor(this.captureMultiplier*t),this.levelUpXP[this.level]<=this.XP},t.prototype.setLevelUpXP=function(t){this.levelUpXP=t},t.prototype.getLevelUpXP=function(){return this.levelUpXP},t.prototype.getTotalXP=function(){return this.totalXP},t.prototype.setLevel=function(t){this.level=t},t.prototype.getLevel=function(){return this.level},t.prototype.increaseLevel=function(){return!(!this.canLevelUp||this.isMaxLevel||(this.XP-=this.levelUpXP[this.level],this.level++,0))},t.prototype.setMoveCounter=function(t){this.moveCounter=t},t.prototype.getMoveCounter=function(){return this.moveCounter},t.prototype.incrementMoveCounter=function(t){void 0===t&&(t=o.Ability.NONE),this.moveCounter++;for(var e=0,i=o.default.DISABILITIES;e<i.length;e++){var r=i[e];this.hasAbility(r)&&this.increaseTimesUsed(r)}for(var s=0,n=o.default.PASSIVE_ABILITIES;s<n.length;s++){var a=n[s];this.hasAbility(a)&&this.increaseTimesUsed(a)}t!==o.Ability.NONE&&this.increaseTimesUsed(t)},t.prototype.reachedMaxLevel=function(){return this.isMaxLevel},t.prototype.highlight=function(){this.highlighted=!0},t.prototype.unhighlight=function(){this.highlighted=!1},t.prototype.isHighlighted=function(){return this.highlighted},t}();e.Piece=a,e.oppositePiece=function(t,e){return t.getSide()===o.Side.WHITE&&e.getSide()===o.Side.BLACK||t.getSide()===o.Side.BLACK&&e.getSide()===o.Side.WHITE},e.oppositeSide=function(t,e){return t===o.Side.WHITE&&e===o.Side.BLACK||t===o.Side.BLACK&&e===o.Side.WHITE},e.sameSidePiece=function(t,e){return t.getSide()===o.Side.WHITE&&e.getSide()===o.Side.WHITE||t.getSide()===o.Side.BLACK&&e.getSide()===o.Side.BLACK},e.sameSide=function(t,e){return t===o.Side.WHITE&&e===o.Side.WHITE||t===o.Side.BLACK&&e===o.Side.BLACK},e.isQueenOrRook=function(t){return t.getType()===o.Type.QUEEN||t.getType()===o.Type.ROOK},e.isQueenOrBishop=function(t){return t.getType()===o.Type.QUEEN||t.getType()===o.Type.BISHOP},e.isKnight=function(t){return t.getType()===o.Type.KNIGHT},e.isPawn=function(t){return t.getType()===o.Type.PAWN},e.isKing=function(t){return t.getType()===o.Type.KING}},597:(t,e)=>{var i,r,s,n,o;function a(t,e){for(var i=0;i<e.length;i++)if(e[i][0]===t[0]&&e[i][1]===t[1])return i;return-1}function I(t,e){return t.getSide()===s.WHITE&&e.getSide()===s.BLACK||t.getSide()===s.BLACK&&e.getSide()===s.WHITE}function E(t,e){return t.getSide()===e}function u(t,e){return t.getSide()===s.WHITE&&e===s.BLACK||t.getSide()===s.BLACK&&e===s.WHITE}function A(t){var e=t===t.toLowerCase()?s.BLACK:s.WHITE;for(var i in n)if(n[i]===t.toLowerCase())return[n[i],e];return[n.EMPTY,s.NONE]}function L(t){return t.getType()===n.EMPTY}function p(t){return t.getType()!==n.EMPTY}function _(t){return t.getType()===n.PAWN}function l(t){return t.getType()===n.BISHOP}function c(t){return t.getType()===n.KNIGHT}function h(t){return t.getType()===n.ROOK}function T(t){return t.getType()===n.QUEEN}function P(t){return t.getType()===n.KING}function d(t){return-1!==t.getAttackDirections().indexOf(r.LINE)}function S(t){return-1!==t.getAttackDirections().indexOf(r.DIAGONAL)}function f(t){return-1!==t.getAttackDirections().indexOf(r.L)}function N(t){return-1!==t.getAttackDirections().indexOf(r.PAWN)}function U(t){return-1!==t.getAttackDirections().indexOf(r.CAMEL)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNotEmpty=e.isEmpty=e.stringToPiece=e.oppositeSide=e.sameSide=e.oppositeSidePiece=e.coordinateInList=e.KING_ABILITIES=e.QUEEN_ABILITIES=e.ROOK_ABILITIES=e.KNIGHT_ABILITIES=e.BISHOP_ABILITIES=e.PAWN_ABILITIES=e.PASSIVE_ABILITIES=e.DISABILITIES=e.Ability=e.Type=e.Side=e.Direction=e.GameResult=e.DISABILITY_MAX_TIMES_USED=e.PASSIVE_ABILITY_MAX_TIMES_USED=e.ABILITY_MAX_TIMES_USED=e.PER_MOVE_XP=e.KING_MAX_LEVEL=e.QUEEN_MAX_LEVEL=e.ROOK_MAX_LEVEL=e.KNIGHT_MAX_LEVEL=e.BISHOP_MAX_LEVEL=e.PAWN_MAX_LEVEL=e.KING_DEFAULT_ABILITY_CAPACITY=e.QUEEN_DEFAULT_ABILITY_CAPACITY=e.ROOK_DEFAULT_ABILITY_CAPACITY=e.KNIGHT_DEFAULT_ABILITY_CAPACITY=e.BISHOP_DEFAULT_ABILITY_CAPACITY=e.PAWN_DEFAULT_ABILITY_CAPACITY=e.KING_CAPTURE_MULTIPLIER=e.QUEEN_CAPTURE_MULTIPLIER=e.ROOK_CAPTURE_MULTIPLIER=e.KNIGHT_CAPTURE_MULTIPLIER=e.BISHOP_CAPTURE_MULTIPLIER=e.PAWN_CAPTURE_MULTIPLIER=e.KING_LEVELUP_XP=e.QUEEN_LEVELUP_XP=e.ROOK_LEVELUP_XP=e.KNIGHT_LEVELUP_XP=e.BISHOP_LEVELUP_XP=e.PAWN_LEVELUP_XP=e.INFINITE_TIME=e.INFINITE_RANGE=void 0,e.hasCamelAttack=e.hasPawnAttack=e.hasKnightAttack=e.hasDiagonalAttack=e.hasLineAttack=e.isKing=e.isQueen=e.isRook=e.isKnight=e.isBishop=e.isPawn=void 0,e.INFINITE_RANGE=65535,e.INFINITE_TIME=-1,e.PAWN_LEVELUP_XP=[10,12,15,17,19,20,22,24,25,27,29,30,32,35,40,45,50,55,60,66,72,80],e.BISHOP_LEVELUP_XP=[10,12,15,17,19,20,22,24,25,27,29,30,32,35,40,45,50,55,60,66,72,80],e.KNIGHT_LEVELUP_XP=[10,12,15,17,19,20,22,24,25,27,29,30,32,35,40,45,50,55,60,66,72,80],e.ROOK_LEVELUP_XP=[10,12,15,17,19,20,22,24,25,27,29,30,32,35,40,45,50,55,60,66,72,80],e.QUEEN_LEVELUP_XP=[10,12,15,17,19,20,22,24,25,27,29,30,32,35,40,45,50,55,60,66,72,80],e.KING_LEVELUP_XP=[10,12,15,17,19,20,22,24,25,27,29,30,32,35,40,45,50,55,60,66,72,80],e.PAWN_CAPTURE_MULTIPLIER=.7,e.BISHOP_CAPTURE_MULTIPLIER=.4,e.KNIGHT_CAPTURE_MULTIPLIER=.5,e.ROOK_CAPTURE_MULTIPLIER=.3,e.QUEEN_CAPTURE_MULTIPLIER=.2,e.KING_CAPTURE_MULTIPLIER=.6,e.PAWN_DEFAULT_ABILITY_CAPACITY=2,e.BISHOP_DEFAULT_ABILITY_CAPACITY=2,e.KNIGHT_DEFAULT_ABILITY_CAPACITY=1,e.ROOK_DEFAULT_ABILITY_CAPACITY=1,e.QUEEN_DEFAULT_ABILITY_CAPACITY=1,e.KING_DEFAULT_ABILITY_CAPACITY=1,e.PAWN_MAX_LEVEL=10,e.BISHOP_MAX_LEVEL=10,e.KNIGHT_MAX_LEVEL=10,e.ROOK_MAX_LEVEL=10,e.QUEEN_MAX_LEVEL=10,e.KING_MAX_LEVEL=10,e.PER_MOVE_XP=5,e.ABILITY_MAX_TIMES_USED=5,e.PASSIVE_ABILITY_MAX_TIMES_USED=5,e.DISABILITY_MAX_TIMES_USED=3,function(t){t[t.BLACK_WIN=-1]="BLACK_WIN",t[t.DRAW=0]="DRAW",t[t.WHITE_WIN=1]="WHITE_WIN",t[t.IN_PROGRESS=2]="IN_PROGRESS"}(i=e.GameResult||(e.GameResult={})),function(t){t.LINE="LINE",t.DIAGONAL="DIAGONAL",t.L="L",t.PAWN="PAWN",t.CAMEL="CAMEL",t.CASTLING="CASTLING"}(r=e.Direction||(e.Direction={})),function(t){t.WHITE="WHITE",t.BLACK="BLACK",t.NONE="NONE"}(s=e.Side||(e.Side={})),function(t){t.EMPTY=".",t.PAWN="p",t.BISHOP="b",t.KNIGHT="n",t.ROOK="r",t.QUEEN="q",t.KING="k"}(n=e.Type||(e.Type={})),function(t){t[t.NONE=0]="NONE",t[t.ANCHOR=199]="ANCHOR",t[t.SCOUT=200]="SCOUT",t[t.QUANTUM_TUNNELING=203]="QUANTUM_TUNNELING",t[t.SMOLDERING=301]="SMOLDERING",t[t.CAMEL=302]="CAMEL",t[t.COLOR_COMPLEX=402]="COLOR_COMPLEX",t[t.ARCHBISHOP=403]="ARCHBISHOP",t[t.HAS_PAWN=501]="HAS_PAWN",t[t.CHANCELLOR=502]="CHANCELLOR",t[t.SWEEPER=601]="SWEEPER",t[t.SKIP=700]="SKIP",t[t.ON_HORSE=702]="ON_HORSE",t[t.ON_CAMEL=705]="ON_CAMEL"}(o=e.Ability||(e.Ability={})),e.DISABILITIES=[o.ANCHOR],e.PASSIVE_ABILITIES=[o.SMOLDERING,o.SWEEPER],e.PAWN_ABILITIES=[o.SCOUT,o.QUANTUM_TUNNELING],e.BISHOP_ABILITIES=[o.COLOR_COMPLEX,o.ARCHBISHOP],e.KNIGHT_ABILITIES=[o.SMOLDERING,o.CAMEL],e.ROOK_ABILITIES=[o.HAS_PAWN,o.CHANCELLOR],e.QUEEN_ABILITIES=[o.SWEEPER],e.KING_ABILITIES=[o.SKIP,o.ON_HORSE,o.ON_CAMEL],e.coordinateInList=a,e.oppositeSidePiece=I,e.sameSide=E,e.oppositeSide=u,e.stringToPiece=A,e.isEmpty=L,e.isNotEmpty=p,e.isPawn=_,e.isBishop=l,e.isKnight=c,e.isRook=h,e.isQueen=T,e.isKing=P,e.hasLineAttack=d,e.hasDiagonalAttack=S,e.hasKnightAttack=f,e.hasPawnAttack=N,e.hasCamelAttack=U,e.default={INFINITE_RANGE:e.INFINITE_RANGE,INFINITE_TIME:e.INFINITE_TIME,PAWN_LEVELUP_XP:e.PAWN_LEVELUP_XP,BISHOP_LEVELUP_XP:e.BISHOP_LEVELUP_XP,KNIGHT_LEVELUP_XP:e.KNIGHT_LEVELUP_XP,ROOK_LEVELUP_XP:e.ROOK_LEVELUP_XP,QUEEN_LEVELUP_XP:e.QUEEN_LEVELUP_XP,KING_LEVELUP_XP:e.KING_LEVELUP_XP,PAWN_CAPTURE_MULTIPLIER:e.PAWN_CAPTURE_MULTIPLIER,BISHOP_CAPTURE_MULTIPLIER:e.BISHOP_CAPTURE_MULTIPLIER,KNIGHT_CAPTURE_MULTIPLIER:e.KNIGHT_CAPTURE_MULTIPLIER,ROOK_CAPTURE_MULTIPLIER:e.ROOK_CAPTURE_MULTIPLIER,QUEEN_CAPTURE_MULTIPLIER:e.QUEEN_CAPTURE_MULTIPLIER,KING_CAPTURE_MULTIPLIER:e.KING_CAPTURE_MULTIPLIER,PAWN_DEFAULT_ABILITY_CAPACITY:e.PAWN_DEFAULT_ABILITY_CAPACITY,BISHOP_DEFAULT_ABILITY_CAPACITY:e.BISHOP_DEFAULT_ABILITY_CAPACITY,KNIGHT_DEFAULT_ABILITY_CAPACITY:e.KNIGHT_DEFAULT_ABILITY_CAPACITY,ROOK_DEFAULT_ABILITY_CAPACITY:e.ROOK_DEFAULT_ABILITY_CAPACITY,QUEEN_DEFAULT_ABILITY_CAPACITY:e.QUEEN_DEFAULT_ABILITY_CAPACITY,KING_DEFAULT_ABILITY_CAPACITY:e.KING_DEFAULT_ABILITY_CAPACITY,PAWN_MAX_LEVEL:e.PAWN_MAX_LEVEL,BISHOP_MAX_LEVEL:e.BISHOP_MAX_LEVEL,KNIGHT_MAX_LEVEL:e.KNIGHT_MAX_LEVEL,ROOK_MAX_LEVEL:e.ROOK_MAX_LEVEL,QUEEN_MAX_LEVEL:e.QUEEN_MAX_LEVEL,KING_MAX_LEVEL:e.KING_MAX_LEVEL,PER_MOVE_XP:e.PER_MOVE_XP,ABILITY_MAX_TIMES_USED:e.ABILITY_MAX_TIMES_USED,PASSIVE_ABILITY_MAX_TIMES_USED:e.PASSIVE_ABILITY_MAX_TIMES_USED,DISABILITY_MAX_TIMES_USED:e.DISABILITY_MAX_TIMES_USED,GameResult:i,Direction:r,Side:s,Type:n,Ability:o,DISABILITIES:e.DISABILITIES,PASSIVE_ABILITIES:e.PASSIVE_ABILITIES,PAWN_ABILITIES:e.PAWN_ABILITIES,BISHOP_ABILITIES:e.BISHOP_ABILITIES,KNIGHT_ABILITIES:e.KNIGHT_ABILITIES,ROOK_ABILITIES:e.ROOK_ABILITIES,QUEEN_ABILITIES:e.QUEEN_ABILITIES,KING_ABILITIES:e.KING_ABILITIES,coordinateInList:a,oppositeSidePiece:I,sameSide:E,oppositeSide:u,stringToPiece:A,isEmpty:L,isNotEmpty:p,isPawn:_,isBishop:l,isKnight:c,isRook:h,isQueen:T,isKing:P,hasLineAttack:d,hasDiagonalAttack:S,hasKnightAttack:f,hasPawnAttack:N,hasCamelAttack:U}}},e={};function i(r){var s=e[r];if(void 0!==s)return s.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,i),n.exports}var r={};(()=>{var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var e=i(597),s=i(306),n=function(){function t(i,r,n,o){void 0===o&&(o=!1),this.gameId=t.gameIdCounter,t.gameIdCounter++,this.whiteId=i,this.blackId=r,this.gameState=new s.GameState(n,0,e.INFINITE_TIME,e.INFINITE_TIME,o),this.gameResult=e.GameResult.IN_PROGRESS}return t.prototype.getWhiteId=function(){return this.whiteId},t.prototype.getBlackId=function(){return this.blackId},t.prototype.getGameState=function(){return this.gameState},t.gameIdCounter=1e3,t}();t.Game=n})(),GameBundle=r})();